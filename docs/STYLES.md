# `grawlix`: Styles

__Contents__
- [Choosing a Grawlix Style](#choosing-a-grawlix-style)
- [Advanced Style Options](#advanced-style-options)
- [Creating a new Grawlix Style](#creating-a-new-grawlix-style)
- [Using Fixed Replacement Strings](#using-fixed-replacement-strings)

***

## Choosing a Grawlix Style

As has been said, the simplest way to specify a style is by passing the name of one of the default styles. In addition to passing in a raw `String`, developers of a more nervous disposition can access the [Style enumeration](https://github.com/tinwatchman/grawlix/blob/master/styles.js#L9) via the `grawlix.Style` property:

```javascript
grawlix.setDefaults({
  style: grawlix.Style.REDACTED
});
```

The `style` option can also be an `Object`. In this case, a `name` property is required:

```javascript
var censored = grawlix(text, {
  style: {
    name: 'unicode'
  }
});
```

## Advanced Style Options

Specifying an `Object` as the `style` option also allows one to exert exact control over the named style's configuration:

```javascript
grawlix.setDefaults({
  style: {
    name: 'ascii',
    chars: {
      add: '...',
      remove: '...',
      replace: {}
    },
    fixed: {
      // add or replace fixed replacement strings
    }
  }
});
```

### Options

The following properties can be specified within the `style` options object:

##### name

Type: `String`

The name of the style to use. **Required** when modifying an existing style.

##### chars.add

Type: `String`

This option adds the given characters to the string the style uses to randomly generate grawlixes. Let's say, for instance, that one wants the `~` and `?` characters to be included in the grawlixes randomly generated by the `'ascii'` style:

```javascript
grawlix.setDefaults({
  style: {
    name: 'ascii',
    chars: {
      add: '~?' // tilde and question mark will now be included in generated grawlixes
    }
  }
});
```

##### chars.remove

Type: `String`

The characters specified in this option will be removed from the string the style uses to randomly generate grawlixes.

```javascript
grawlix.setDefaults({
  style: {
    name: 'unicode',
    chars: {
      remove: '♡♢♤♧' // playing card symbols will not longer appear in grawlixes
    }
  }
});
```

##### chars.replace

Type: `Object`

This option allows one to pass in a map of characters to replace within the string the style uses to randomly generate grawlixes. The object's keys represent the characters to be replaced, while the object's values represent the characters that should be inserted instead.

```javascript
// replaces red playing card symbols with black playing card symbols within the 
// 'dingbats' style.
grawlix.setDefaults({
  style: {
    name: 'dingbats',
    chars: {
      replace: {
        '♡': '♥',
        '♢': '♦',
        '♤': '♠',
        '♧': '♣'
      }
    }
  }
});
```

##### fixed

Type: `Object`

Adds or replaces strings within the style's fixed replacement dictionary. See [Using Fixed Replacement Strings](#using-fixed-replacement-strings) below for more details.

## Creating a new Grawlix Style

If reconfiguring an existing style won't work for your purposes, you can also specify your own style of grawlix. You do this by creating a new `GrawlixStyle` object -- available via `grawlix.GrawlixStyle` -- and passing it in as the `style` option. Like so:

```javascript
grawlix.setDefaults({
  style: new grawlix.GrawlixStyle('my-style-name', chars)
});
```

### Class: grawlix.GrawlixStyle

#### new grawlix.GrawlixStyle(name, chars[, fixedReplacements])

##### name

Type: `String`

The name of the style. **Required.**

##### chars

Type: `String`

The string of characters the style should use to randomly generate or fill grawlixes. If you want to create a 'single-character' style, like `'nextwave'` or `'redacted'`, just pass in the symbol you want to replace everything:

```javascript
// replaces all targeted words with x's
var style = new grawlix.GrawlixStyle('x-out', 'x');
```

Or provide multiple symbols if you prefer the grawlixes to be random:

```javascript
// chess-themed grawlixes
var style = new grawlix.GrawlixStyle('chess-pieces', '♔♕♖♗♘♙');
```

##### fixedReplacements

Type: `Object`<br>
Default: `{}`

Optional. A map of fixed replacement strings to be used when `randomize` is set to `false`. See [Using Fixed Replacement Strings](#using-fixed-replacement-strings) below for more details.

## Using Fixed Replacement Strings

When the `randomize` flag is set to `false`, certain grawlix styles -- namely `'ascii'`, `'dingbats'`, and `'unicode'` -- will, instead of generating random grawlixes, attempt to replace profanities with fixed replacement strings drawn from a dictionary contained with the `GrawlixStyle` object. While primarily used for testing, this mode may also be of interest to those who wish to replace obscenities with alternate words, or to build a sort of 'grawlix language' that will allow end users in the know to easily infer the original word used while (hopefully) going over younger viewers' heads.

You can add or replace strings within an existing style's dictionary by passing in a object map via the `style.fixed` property:

```javascript
grawlix.setDefaults({
  style: {
    name: 'ascii',
    fixed: {
      'word': '%!&#',
      'word2': '#&!%'
    }
  }
});
```

When creating a new style, you can optionally pass in a dictionary of replacement strings via the `fixedReplacements` parameter:

```javascript
var style = new grawlix.GrawlixStyle(styleName, chars, {
  'word': '%!&#',
  'word2': '#&!%'
});
```

Things to keep in mind when coming up with your own fixed replacement strings:

- Fixed replacement strings will be automatically wrapped in a filter's [template](https://github.com/tinwatchman/grawlix/blob/master/docs/FILTERS.md#filter-templates). In certain cases, this may have unexpected outcomes.
- When using the `$` character, note that it will need to be repeated twice in order to render properly, on account of how JavaScript's [String#replace](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace) function works. So `'%!$$#'` will be rendered as `'%!$#'`.

To see how this works in the default styles, see [styles.js](https://github.com/tinwatchman/grawlix/blob/master/styles.js#L62).

***

*Last updated March 24, 2017*